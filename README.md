
# 지형 프로필 분석기 (Terrain Profile Analyzer)

대화형 지도를 사용하여 사용자가 지정한 경로의 고도 프로필을 시각화하고 상세하게 분석하는 웹 애플리케이션입니다.

실행주소1 : https://terrain-one.vercel.app/

실행주소2 : https://dev-canvas-pi.vercel.app/

## 주요 기능

-   **대화형 지도 인터페이스**: Leaflet을 사용하여 부드럽고 직관적인 지도 경험을 제공합니다.
-   **두 가지 경로 설정 모드**:
    -   **두 지점 모드**: 지도 위에 시작점과 끝점을 클릭하여 두 지점 사이의 고도 프로필을 즉시 분석합니다.
    -   **다지점 경로 모드**: 여러 경유지를 클릭하여 복잡하고 상세한 경로를 생성하고 분석할 수 있습니다.
-   **상세 고도 프로필 차트**: Recharts를 활용하여 경로의 고도 변화를 세밀한 차트로 시각화합니다.
-   **지도-차트 연동 호버링**: 차트 또는 지도 경로 위에 마우스를 올리면, 해당 위치의 정보(고도, 거리)가 양쪽에 동기화되어 실시간으로 표시됩니다.
-   **경사도 시각화**: 경로의 경사도에 따라 색상이 변하는 그래디언트 경로를 지도에 표시하여 오르막과 내리막을 시각적으로 쉽게 파악할 수 있습니다.
-   **경로 통계 요약**: 총 거리, 최고/최저 고도, 총 상승/하강 고도를 자동으로 계산하여 대시보드에 제공합니다.
-   **다양한 지도 레이어**: 다크, 일반, 위성, 지형 등 4가지의 지도 스타일을 지원하여 사용자가 원하는 시각적 맥락에서 경로를 분석할 수 있습니다.
-   **상태 관리 및 초기화**: 모든 사용자 입력과 분석 결과를 초기화하여 새로운 분석을 쉽게 시작할 수 있는 기능을 제공합니다.

## 사용 방법

1.  **경로 설정 방식 선택**: 좌측 패널 상단에서 '두 지점' 또는 '다지점 경로' 모드를 선택합니다.
2.  **경로 설정**:
    -   **두 지점 모드**: 지도에서 시작점을 클릭한 후, 종료점을 클릭합니다. 분석은 종료점 선택과 동시에 자동으로 시작됩니다.
    -   **다지점 경로 모드**: 지도 위에 원하는 만큼 경유지를 클릭하여 경로를 그립니다. 2개 이상의 지점을 선택한 후, '경로 분석' 버튼을 눌러 분석을 시작합니다.
3.  **결과 확인**:
    -   **프로필 요약**: 대시보드에서 경로에 대한 통계 요약 정보(거리, 고도 등)를 확인합니다.
    -   **고도 프로필 차트**: 하단의 차트를 통해 경로의 고도 변화를 확인하고, 마우스를 올려 특정 지점의 고도와 거리를 볼 수 있습니다.
    -   **지도 경로**: 지도에 표시된 경사도 색상을 통해 시각적으로 기울기를 파악합니다.
4.  **지도 스타일 변경**: '지도 스타일' 섹션에서 원하는 지도 레이어를 선택하여 배경을 변경할 수 있습니다.
5.  **초기화**: 우측 상단의 새로고침 아이콘을 클릭하여 모든 설정과 데이터를 초기화하고 새로운 분석을 시작할 수 있습니다.

## 기술 스택

-   **프레임워크**: React (v19)
-   **언어**: TypeScript
-   **스타일링**: Tailwind CSS
-   **지도**: Leaflet, React-Leaflet
-   **차트**: Recharts
-   **고도 데이터 API**: [Open-Elevation API](https://open-elevation.com/)
-   **빌드/실행 환경**: Vite (HTML 내 `importmap`을 사용한 ESM 방식)

## 프로젝트 구조

```
/
├── index.html             # 메인 HTML 파일 및 importmap 설정
├── metadata.json          # 애플리케이션 메타데이터
├── README.md              # 프로젝트 설명 파일
└── src/
    ├── App.tsx            # 메인 애플리케이션 컴포넌트 (상태 관리 로직)
    ├── index.tsx          # React 진입점
    ├── components/        # React UI 컴포넌트
    │   ├── DashboardPanel.tsx
    │   ├── ElevationChart.tsx
    │   ├── MapComponent.tsx
    │   └── icons.tsx
    ├── services/          # 외부 API 통신 로직 (topoService.ts)
    ├── utils/             # 유틸리티 함수 (stats.ts)
    ├── types/             # TypeScript 타입 정의 (types.ts)
    └── config.ts          # 애플리케이션 설정 (지도 레이어 정보 등)
```
